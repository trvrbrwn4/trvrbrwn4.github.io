<html>
    <head>
        <title>> TAB [Portfolio]</title>
        <link rel="icon" type="image/x-icon" href="../media/icon.png">
        <style>
            * {
                margin: 0;
                padding: 0;
            }

            /******************************** FONTS ********************************/
            @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@100;300&family=Open+Sans:wght@800&display=swap');
            main {
                font-family: 'IBM Plex Sans', sans-serif;
                font-weight: 300;
            }
            h1, h2, h3, h4, h5, h6 {
                font-family: 'Open Sans', sans-serif;
                font-weight: 800;
            }

            html {
                background-color: #000000;
                color: #ffffff;
                width: 100vw;
                height: 100vh;
                text-align: center !important;
                cursor: default;
                font-size: min(max(calc(1vw + 1vh + 1vmin - 8px), calc(1vw + 1vh + 1vmin - 16px)), calc(1.2em));
            }
            body {
                width: 100%;
                height: 100%;
                overflow: hidden;
                background-color: #ffffff;
                background-image: url("../media/stars_tile.png");
                background-size: auto;
                background-repeat: repeat;
                background-position: center center;
            }
            .star {
                position: absolute;
                background-color: white;
                width: 2px;
                height: 2px;
                opacity: 0;
                animation: twinkling 1s infinite;
                z-index: 1;
            }
            @keyframes twinkling {
                0%, 100%{
                    opacity: 0;
                }
                50% {
                    opacity: 1;
                }
            }

            /* ****************** MAIN ****************** */
            main {
                height: 100%;
                width: 100%;
                overflow-y: scroll;
                scrollbar-width: none;
            }
            main>section {
                scroll-margin-top: 4vh;
            }
            main>section>h1 {
                display: inline-block;
                font-size: 2em;
                animation: floating 8s ease infinite;
                margin-bottom: 8px;
            }
            @keyframes floating {
                0%, 60%, 100%  {
                    transform: translateY(0);
                }
                20% {
                    transform: translateY(4px);
                }
            }

            #Reel {
                /* these dimensions maintain a 16:9 AR */
                width: 94vw;
                height: 52vw;
                max-height: 664px;
            }
            #Reel iframe {
                width: 100%;
                height: 100%;
                margin: 0 auto;
            }
            /* sets the size of all the main elements */
            nav, main>section, main>.divider {
                width: 94vw;
                max-width: 1200px;
                margin: 2vh auto;
            }
            /* sets the background color of all the main elements */
            nav, main>section {
                background-color: #000;
                border: 1px solid #222;
                border-radius: 8px;
            }
            /* divider and sliding rainbow animation */
            .divider {
                display: block;
                border: 1px solid #222;
            }
            .rainbow {
                border: 2px solid #fff;
                animation: rainbowSlide 8s ease infinite;
            }
            @keyframes rainbowSlide {
                0%, 100% {
                    border-image: repeating-linear-gradient(135deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3) 1;
                }
                11% {
                    border-image: repeating-linear-gradient(135deg, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3, #ff2400) 1;
                }
                22% {
                    border-image: repeating-linear-gradient(135deg, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3, #ff2400, #e81d1d) 1;
                }
                33% {
                    border-image: repeating-linear-gradient(135deg, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3, #ff2400, #e81d1d, #e8b71d) 1;
                }
                44% {
                    border-image: repeating-linear-gradient(135deg, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3, #ff2400, #e81d1d, #e8b71d, #e3e81d) 1;
                }
                55% {
                    border-image: repeating-linear-gradient(135deg, #1ddde8, #2b1de8, #dd00f3, #dd00f3, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840) 1;
                }
                66% {
                    border-image: repeating-linear-gradient(135deg, #2b1de8, #dd00f3, #dd00f3, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8) 1;
                }
                77% {
                    border-image: repeating-linear-gradient(135deg, #dd00f3, #dd00f3, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8) 1;
                }
                88% {
                    border-image: repeating-linear-gradient(135deg, #dd00f3, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3) 1;
                }
                99% {
                    border-image: repeating-linear-gradient(135deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8, #dd00f3, #dd00f3) 1;
                }
            }

            /* the default menu styling */
            .menu {
                list-style-type: none;
            }
            .menu li {
                display: inline-block;
                margin: 0 8px;
            }

            /* the active stuff is just for the filter menu */
            .menu li:not(#active), .menu a {
                text-decoration: none;
                color: #888;
                transition: all 0.2s ease;
            }
            .menu li:not(#active):hover, .menu a:hover  {
                transform: scale(1.1);
                color: #ccc;
            }
            #active {
                text-decoration: underline;
                color: #fff;
            }


            /* **************** NAV BAR **************** */
            nav {
                position: -webkit-sticky;
                position: sticky;
                top: 0;
                z-index: 2;
            }
            nav ul {
                display: flex;
                justify-content: space-evenly;
                align-items: center;
            }

            /* **************** PROJECTS **************** */
            #menuProjects {
                margin-bottom: 8px;
            }
            #menuProjects li:not(#active) {
                cursor: pointer;
            }

            .filterGreen:not(#active) {
                color: #6DA076 !important;
            }
            .filterGreen:not(#active):hover {
                color: #38D052 !important;
            }
            .filterGreen:is(#active), #worksList li:is(.Coding) {
                color: #1DE840 !important;
                border-color: #1DE840 !important;
            }

            .filterPink:not(#active) {
                color: #9D66A3 !important;
            }
            .filterPink:not(#active):hover {
                color: #C822D8 !important;
            }
            .filterPink:is(#active), #worksList li:is(.SoundRedesign) {
                color: #DD00F3 !important;
                border-color: #DD00F3 !important;
            }

            .filterBlue {
                color: #6D9DA0 !important;
            }
            .filterBlue:hover {
                color: #38C8D0 !important;
            }
            .filterBlue:is(#active), #worksList li:is(.MusicProduction) {
                color: #1DDDE8 !important;
                border-color: #1DDDE8 !important;
            }

            .filterYellow:not(#active) {
                color: #9FA06D !important;
            }
            .filterYellow:not(#active):hover {
                color: #CCD038 !important;
            }
            .filterYellow:is(#active), #worksList li:is(.SamplePack) {
                color: #E3E81D !important;
                border-color: #E3E81D !important;
            }

            /* projects list */
            #worksList {
                display: flex;
                flex-wrap: nowrap;
                flex-direction: row;
                list-style-type: none;
                overflow-x: scroll;
                padding-bottom: 16px;

                /* style the scrollbar; */
                scrollbar-color: #888 #000;
                scrollbar-width: thick;
            }
            #worksList li {
                display: inline-block;
                margin: 8px 16px;
                padding: 8px;
                width: 240px;
                min-width: 240px;
                height: 30vh;
                max-height: 500px;
                border: #fff 1px solid;
                border-radius: 32px;
                overflow-y: scroll;
                animation: jiggle 8s ease infinite;
                transition: all 0.1s ease;
                scrollbar-width: none;
            }
            @keyframes jiggle {
                0%, 30%, 100%  {
                    transform: rotate(0);
                }
                10% {
                    transform: rotate(.5deg);
                }
                20% {
                    transform: rotate(-.5deg);
                }
            }
            #worksList li:hover, #worksList li:hover img {
                box-shadow: 0 0 4px;
            }
            #worksList a:hover h2, #worksList a:hover p {
                text-decoration: underline;
            }

            #worksList .divider {
                border: 1px solid #666;
            }
                        
            /* consistent margins within project block elements */
            #worksList li h2, #worksList img, #worksList li p, #worksList li iframe {
                margin: 8px 0;
            }
            #worksList li p {
                margin-top: 0;
            }
            #worksList img {
                height: auto;
                width: 80%;
                border: #000 1px solid;
                transition: all 0.2s ease;
                animation: imgPulse 8s ease infinite;
            }
            @keyframes imgPulse {
                0% {
                    filter: saturate(1);
                }
                10%, 20% {
                    filter: saturate(4);
                }
                30%, 100% {
                    filter: saturate(1);
                }
            }
            #worksList a, #worksList a:visited {
                color: inherit;
                text-decoration: none;
            }
            #worksList iframe {
                width: 100% !important;
            }
            .playButton {
                color: #1DDDE8 !important;
            }
            
            /* ****************** BIO ****************** */
            #Bio {
                display: flex;
                flex-direction: column;
                flex-wrap: wrap;
                justify-content: space-evenly;
                align-items: center;
            }
            #Bio img {
                width: 60vmin;
                height: 40vmin;
                background-size: auto;
                border-radius: 16px;
                margin: 8px;
                border: 2px solid #000;
                animation: pulse 2s linear infinite;
            }
            /* a keyframes animation to slightly animate the saturation of the image  */
            @keyframes pulse {
                0%, 100% {
                    filter: saturate(1);
                    border-color: #000;
                    box-shadow: none;
                }
                50% {
                    filter: saturate(1.2);
                    border-color: #00f;
                    /* a four way box shadow that grows in all directions */
                    box-shadow: 8px 8px 8px 8px #004, -8px 8px 8px 8px #004, 8px -8px 8px 8px #004, -8px -8px 8px 8px #004;
                }
            }

            #Bio img, #Bio p {
                width: 60%;
            }
            .wave {
                animation: wave 8s ease infinite;
            }
            @keyframes wave {
                /* a short animation to make text appear to wave */
                0%, 17% {
                    transform: rotate(0);
                }
                3% {
                    transform: rotate(4deg);
                }
                5% {
                    transform: rotate(-4deg);
                }
                7% {
                    transform: rotate(1deg);
                }
                10% {
                    transform: rotate(-1deg);
                }
                12% {
                    transform: rotate(.5deg);
                }
                15% {
                    transform: rotate(-.5deg);
                }
            }
            #Bio p {
                margin: 8px;
            }

            /* **************** CONNECT **************** */
            #Connect {
                display: flex;
                flex-direction: column;
                flex-wrap: wrap;
                justify-content: space-evenly;
                display: none !important;
            }
            #Connect form {
                display: flex;
                flex-direction: column;
                flex-wrap: wrap;
                justify-content: space-evenly;
                align-items: center;
                width: 80%;
                margin: 0 auto;
                padding: 8px 8px 0 8px;
            }
            #Connect form input:not([type="submit"]), #Connect form textarea {
                width: 60%;
                padding: 8px;
                border: #fff 1px solid;
                border-radius: 4px;
            }
            #Connect form label, #Connect form input[type="submit"] {
                margin: 8px;
            }
            #Connect form input {
                color: #000;
                width: 20% !important;
            }
            #Connect form textarea {
                resize: vertical;
            }
            #Connect form input[type="submit"] {
                width: 10% !important;
                background-color: #fff;
                color: #000;
                border: #000 1px solid;
                border-radius: 4px;
                cursor: pointer;
                transition: all 0.2s ease;
            }
            #Connect form input[type="submit"]:hover {
                background-color: #444;
                color: #fff;
            }

            /* ***************** SOCIAL ***************** */
            #menuSocial {
                list-style-type: none;
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: space-evenly;
                align-items: center;
            }
            #menuSocial img {
                width: auto;
                height: 8vh;

                filter: grayscale(100%);
                transition: all .4s ease;
            }
            #menuSocial img:hover {
                filter: grayscale(0%);
                transform: scale(1.4);
                cursor: pointer;
            }

            @media screen and (max-width: 600px) { /* For phone */
                #menuProjects li {
                    display: block;
                }
            }
        </style>
    </head>
    <body>
        <main>
            <section id="Reel">
                <iframe src="https://www.youtube.com/embed/TZDhipTSRv0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </section>

            <span class="divider rainbow"></span>

            <nav>
                <ul class="menu">
                    <a href="#Reel"><li>Show Reel</li></a>
                    <a href="#Projects"><li>Projects</li></a>
                    <a href="#Bio"><li>Bio</li></a>
                    <a href="#Connect"><li>Connect</li></a>
                </ul>
            </nav>

            <span class="divider"></span>

            <section id="Projects">
                <h1>Projects</h1>
                <ul class="menu" id="menuProjects">
                    <li id="active" class="filterRed">All</li>
                    <li class="filterYellow">Sample Pack</li>
                    <li class="filterPink">Sound Redesign</li>
                    <li class="filterBlue">Music Production</li>
                    <li class="filterGreen">Coding</li>
                </ul>
                <ul id="worksList"></ul>
            </section>

            <span class="divider"></span>

            <section id="Bio">
                <h1>Bio</h1>
                <img src="../media/TrevorB.png" alt="Profile Picture">
                <h1 class="wave">Hello there!</h1>
                <p>My name is Trevor Brown. You've been dreaming of an audio guy like me.</p>
                <p>I am currently attending Utah Valley University where I am completing a Bachelors in Digital Audio with a minor in Computer Science.</p>
                <p>I have over 10 years of experience working with audio, with a specialty for mixing and sound design. My extensive experience allows me to handle any audio-related task.</p>
                <p>My technical expertise covers a wide range of topics, including vast programming history, building workflows of tools, utilizing AI, and being able to learn new software quickly and efficiently.</p>
                <p>Check down below for ways to connect with me :)</p>
            </section>

            <!-- <span class="divider"></span> -->

            <section id="Connect">
                <h1>Connect</h1>
                <form action="submit-form.php" id="contact-form" method="post">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>

                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>

                    <label for="message">Message:</label>
                    <textarea id="message" name="message" required></textarea>

                    <input type="submit" value="Submit">
                </form>
            </section>

            <span class="divider"></span>

            <section>
                <ul class="menu" id="menuSocial">
                    <li><a href="https://www.linkedin.com/in/trvrbrwn4/" target="_blank"><img src="../media/Icons/linkedin_3d.png" alt="LinkedIn"></li></a>
                    <li><a href="https://www.instagram.com/trvrbrwn4/" target="_blank"><img src="../media/Icons/instagram_3d.png" alt="Instagram"></li></a>
                    <li><a href="https://github.com/trvrbrwn4" target="_blank"><img src="../media/Icons/github_3d.png" alt="GitHub"></a></li>
                </ul>
            </section>
        </main>
        <script>
            const userAgent = navigator.userAgent;
            let userDevice = function() {
                if (/mobile/i.test(userAgent)) {
                    return 'mobile';
                } else if (/tablet/i.test(userAgent)) {
                    return 'tablet';
                } else {
                    return 'computer';
                }
            }();

            // creates an HTML element, with innerHTML
            function createElement(typeName, innerText = null) {
                var el = document.createElement(typeName);
                if (innerText) el.innerHTML = innerText;
                return el;
            }

            // reads json file, creates works list of entries there
            fetch("works.json")
                .then((response) => {
                    return response.json();
                })
                .then((data) => {
                    data = data["works"];
                    data.forEach((work) => {
                        const workItem = createElement("li");
                            workItem.classList.add(work["category"]);

                            if (work["link"] != null) {
                                const workLink = createElement("a");
                                    workLink.setAttribute("href", work["link"]);
                                    workLink.setAttribute("target", "_blank");

                                    const workTitle = createElement("h2");
                                        const mainTitle = createElement("span", work["title"]);
                                        workTitle.appendChild(mainTitle);

                                    workLink.appendChild(workTitle);

                                    const WorkDivider = createElement("span");
                                        WorkDivider.classList.add("divider");
                                    workLink.appendChild(WorkDivider);

                                    if (work["image"] != null) {
                                        const workImg = createElement("img");
                                            // workImg.setAttribute("alt", `${work["title"]} Art`);
                                            workImg.setAttribute("src", `../media/works/${work["category"]}/${work["image"]}`);

                                        workLink.appendChild(workImg);
                                    }

                                    const workDescription = createElement("p", work["description"]);
                                    workLink.appendChild(workDescription);

                                workItem.appendChild(workLink);
                            } else {
                                const workTitle = createElement("h2");
                                    const mainTitle = createElement("span", work["title"]);
                                    workTitle.appendChild(mainTitle);

                                workItem.appendChild(workTitle);

                                const WorkDivider = createElement("span");
                                    WorkDivider.classList.add("divider");
                                workItem.appendChild(WorkDivider);

                                if (work["image"] != null) {
                                    const workImg = createElement("img");
                                        // workImg.setAttribute("alt", `${work["title"]} Art`);
                                        workImg.setAttribute("src", `../media/works/${work["category"]}/${work["image"]}`);

                                    workItem.appendChild(workImg);
                                }

                                const workDescription = createElement("p", work["description"]);
                                workItem.appendChild(workDescription);
                            }

                            if (work["iframe"] != null) {
                                const workIframe = createElement("iframe");

                                    workIframe.setAttribute("src", work["iframe"]);
                                    workIframe.setAttribute("title", work["title"]);
                                    workIframe.setAttribute("frameborder", "0");
                                    workIframe.setAttribute("allowfullscreen", "");
                                workItem.appendChild(workIframe);
                            }

                            workItem.style.animationDelay = `${Math.random() * 2}s`;

                        document.querySelector("#worksList").appendChild(workItem);
                    });
                });

            // contact form script
            document.getElementById("contact-form").addEventListener("submit", function(event) {
                event.preventDefault(); // prevent the form from submitting normally

                var form = event.target;
                var url = form.action;
                var formData = new FormData(form);

                fetch(url, {
                    method: "POST",
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                if (data.status === "success") {
                    alert(data.message); // display success message in popup
                    form.reset(); // reset the form
                } else {
                    alert(data.message); // display error message in popup
                }
                })
                .catch(error => alert("Oops! Something went wrong. Please try again later."));
            });

            // star animation
            function createStar() {
                const star = createElement('div');
                star.classList.add('star');
                star.style.top = Math.floor(Math.random() * (window.innerHeight - 20)) + 10 + 'px';
                star.style.left = Math.floor(Math.random() * (window.innerWidth - 20)) + 10 + 'px';

                document.body.appendChild(star);
                setTimeout(() => {
                    star.remove();
                }, 1000);
            }
            setInterval(function() {
                for (let i = 0; i < 10; i++) {
                    createStar();
                }
            }, 50);

            // for auto scrolling on projects
            const scrollTimeout = 8000; // 4s, 4000ms
            const worksBox = document.querySelector("#worksList");
            let timerID;
            function startTimer() {
                timerID = setInterval(() => {
                    if (worksBox.scrollLeft < (worksBox.scrollWidth - worksBox.clientWidth)) {
                        worksBox.scrollBy({
                            left: 200+Math.random()*200,
                            behavior: "smooth"
                        });
                    } else {
                        worksBox.scrollTo({
                            top: 0,
                            left: 0,
                            behavior: "smooth"
                        });
                    }
                }, scrollTimeout-Math.random()*2000);
            }
            function stopTimer() {
                clearInterval(timerID);
            }
            worksBox.scrollTo(0, 0);
            worksBox.addEventListener('mouseenter', stopTimer);
            worksBox.addEventListener('mouseleave', startTimer);
            worksBox.addEventListener('touchstart', stopTimer);
            // worksBox.addEventListener('touchend', startTimer);
            startTimer();

            // filter logic for projects section
            document.querySelectorAll("#menuProjects li").forEach((category) => {
                // filters projects when a category is clicked
                const handleCategoryClick = (event) => {
                    if (event.target.id == "active") return;

                    document.querySelector("#active").removeAttribute("id");
                    event.target.setAttribute("id", "active");
                    
                    document.querySelectorAll("#worksList li").forEach((work) => {
                        work.scrollTo(0, 0);

                        if (event.target.innerHTML == "All") {
                            work.style.display = "inline-block";
                        } else if (work.classList.contains(event.target.innerHTML.replace(" ", ""))) {
                            work.style.display = "inline-block";
                        } else {
                            work.style.display = "none";
                        }

                        stopTimer();
                        worksBox.scrollTo(0, 0);
                        startTimer();
                    });
                }

                category.addEventListener('click', handleCategoryClick);
                category.addEventListener('touchstart', handleCategoryClick);
            });

            // a function for me to create constant width comments :)
            function commentMaker(title) {
                const fixedWidth = 40;
                const sidewidth = (fixedWidth - title.split("").length) / 2;
                console.log("*".repeat(sidewidth) + " " + title + " " + "*".repeat(sidewidth));
            }
        </script>
    </body>
</html>